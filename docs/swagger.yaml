basePath: /api
definitions:
  activity.Activity:
    properties:
      author:
        type: string
      campaign_id:
        type: string
      created_at:
        type: string
      date:
        type: string
      description:
        type: string
      id:
        type: string
      title:
        type: string
      type:
        type: string
    type: object
  activity.ActivityUpdateRequest:
    properties:
      author:
        type: string
      date:
        type: string
      description:
        type: string
      title:
        type: string
      type:
        type: string
    type: object
  campaign.Campaign:
    properties:
      beneficiary_age:
        type: integer
      beneficiary_name:
        type: string
      category:
        type: string
      contract_signed:
        type: boolean
      created_at:
        type: string
      current_situation:
        type: string
      description:
        type: string
      end_date:
        type: string
      goal:
        type: number
      id:
        type: string
      image:
        type: string
      location:
        type: string
      organizer:
        $ref: '#/definitions/organizer.Organizer'
      organizer_id:
        type: string
      payment_methods:
        items:
          $ref: '#/definitions/campaign.CampaignPaymentMethod'
        type: array
      start_date:
        type: string
      status:
        type: string
      title:
        type: string
      urgency:
        type: integer
      urgency_reason:
        type: string
    type: object
  campaign.CampaignPaymentMethod:
    properties:
      code:
        type: string
      id:
        type: integer
      instructions:
        type: string
      name:
        type: string
      payment_method_id:
        type: integer
    type: object
  campaigncategory.CampaignCategory:
    properties:
      created_at:
        type: string
      description:
        type: string
      id:
        type: string
      name:
        type: string
    type: object
  closure.CampaignClosureReport:
    properties:
      alerts_count:
        type: integer
      alerts_resolved:
        type: integer
      campaign_goal:
        type: number
      campaign_id:
        type: string
      closed_at:
        type: string
      closed_by:
        type: string
      closure_reason:
        type: string
      closure_type:
        $ref: '#/definitions/closure.ClosureType'
      created_at:
        type: string
      goal_percentage:
        type: number
      id:
        type: string
      receipts_with_documents:
        type: integer
      report_hash:
        type: string
      report_pdf_url:
        type: string
      total_activities:
        type: integer
      total_donations:
        type: integer
      total_donors:
        type: integer
      total_expenses:
        type: number
      total_raised:
        type: number
      total_receipts:
        type: integer
      transparency_breakdown:
        $ref: '#/definitions/closure.TransparencyBreakdown'
      transparency_score:
        type: number
    type: object
  closure.CloseCampaignRequestDTO:
    properties:
      closure_type:
        enum:
        - goal_reached
        - end_date
        - manual
        type: string
      reason:
        type: string
    required:
    - closure_type
    type: object
  closure.ClosureType:
    enum:
    - goal_reached
    - end_date
    - manual
    type: string
    x-enum-varnames:
    - ClosureTypeGoalReached
    - ClosureTypeEndDate
    - ClosureTypeManual
  closure.PublicAuditReport:
    properties:
      campaign_goal:
        type: number
      campaign_id:
        type: string
      campaign_title:
        type: string
      closed_at:
        type: string
      goal_percentage:
        type: number
      organizer_name:
        type: string
      report_pdf_url:
        type: string
      total_donors:
        type: integer
      total_expenses:
        type: number
      total_raised:
        type: number
      transparency_score:
        type: number
    type: object
  closure.TransparencyBreakdown:
    properties:
      activity_score:
        description: 0-25 pts
        type: number
      alerts_deduction_score:
        description: 0 to -10 pts
        type: number
      bonus_score:
        description: 0-10 pts
        type: number
      documentation_score:
        description: 0-30 pts
        type: number
      goal_progress_score:
        description: 0-20 pts
        type: number
      timeliness_score:
        description: 0-15 pts
        type: number
    type: object
  contract.AcceptContractRequestDTO:
    properties:
      organizer_id:
        type: string
    type: object
  contract.AcceptanceMetadata:
    properties:
      ip:
        type: string
      user_agent:
        type: string
    type: object
  contract.CampaignContract:
    properties:
      acceptance_metadata:
        $ref: '#/definitions/contract.AcceptanceMetadata'
      accepted_at:
        type: string
      campaign_id:
        type: string
      contract_hash:
        type: string
      contract_pdf_url:
        type: string
      created_at:
        type: string
      id:
        type: string
      organizer_id:
        type: string
    type: object
  contract.ContractProof:
    properties:
      campaign_title:
        type: string
      contract:
        $ref: '#/definitions/contract.CampaignContract'
      organizer_name:
        type: string
    type: object
  donation.CreateDonationRequest:
    properties:
      amount:
        type: number
      donor:
        $ref: '#/definitions/donation.DonorInfo'
      donor_id:
        type: string
      is_anonymous:
        type: boolean
      message:
        type: string
      payment_method_id:
        type: integer
    type: object
  donation.Donation:
    properties:
      amount:
        type: number
      campaign_id:
        type: string
      date:
        type: string
      donor:
        $ref: '#/definitions/donation.DonorResponse'
      donor_id:
        type: string
      id:
        type: string
      is_anonymous:
        type: boolean
      message:
        type: string
      payment_method:
        $ref: '#/definitions/donation.PaymentMethodInfo'
      payment_method_id:
        type: integer
      receipt_url:
        type: string
      status:
        $ref: '#/definitions/donation.DonationStatus'
    type: object
  donation.DonationStatus:
    enum:
    - completed
    - pending
    - failed
    - refunded
    type: string
    x-enum-varnames:
    - DonationStatusCompleted
    - DonationStatusPending
    - DonationStatusFailed
    - DonationStatusRefunded
  donation.DonorInfo:
    properties:
      email:
        type: string
      last_name:
        type: string
      name:
        type: string
      phone:
        type: string
    required:
    - last_name
    - name
    type: object
  donation.DonorResponse:
    properties:
      email:
        type: string
      first_name:
        type: string
      id:
        type: string
      last_name:
        type: string
      phone:
        type: string
    type: object
  donation.PaymentMethodInfo:
    properties:
      code:
        type: string
      id:
        type: integer
      name:
        type: string
    type: object
  donation.UpdateDonationStatusRequest:
    properties:
      status:
        $ref: '#/definitions/donation.DonationStatus'
    required:
    - status
    type: object
  donor.Donor:
    properties:
      email:
        type: string
      first_name:
        type: string
      id:
        type: string
      is_verified:
        type: boolean
      last_name:
        type: string
      phone:
        type: string
    type: object
  errors.APIError:
    properties:
      code:
        example: 400
        type: integer
      message:
        example: Invalid request format
        type: string
    type: object
  organizer.Organizer:
    properties:
      address:
        type: string
      avatar:
        type: string
      created_at:
        type: string
      email:
        type: string
      id:
        type: string
      name:
        type: string
      phone:
        type: string
      user_id:
        type: string
      verified:
        type: boolean
      website:
        type: string
    type: object
  paymentmethod.CampaignPaymentMethod:
    properties:
      campaign_id:
        type: string
      cash_locations:
        items:
          $ref: '#/definitions/paymentmethod.CashLocation'
        type: array
      created_at:
        type: string
      id:
        type: integer
      instructions:
        type: string
      is_active:
        type: boolean
      payment_method:
        $ref: '#/definitions/paymentmethod.PaymentMethod'
      payment_method_id:
        type: integer
      transfer_details:
        items:
          $ref: '#/definitions/paymentmethod.TransferDetail'
        type: array
      updated_at:
        type: string
    type: object
  paymentmethod.CashLocation:
    properties:
      additional_notes:
        type: string
      address:
        type: string
      available_hours:
        type: string
      campaign_payment_method_id:
        type: integer
      contact_info:
        type: string
      created_at:
        type: string
      id:
        type: integer
      location_name:
        type: string
      updated_at:
        type: string
    type: object
  paymentmethod.CreateCampaignPaymentMethodRequest:
    properties:
      campaign_id:
        type: string
      cash_locations:
        items:
          $ref: '#/definitions/paymentmethod.CreateCashLocation'
        type: array
      instructions:
        type: string
      payment_method_id:
        type: integer
      transfer_details:
        $ref: '#/definitions/paymentmethod.CreateTransferDetail'
    required:
    - campaign_id
    - payment_method_id
    type: object
  paymentmethod.CreateCashLocation:
    properties:
      additional_notes:
        type: string
      address:
        type: string
      available_hours:
        type: string
      contact_info:
        type: string
      location_name:
        type: string
    required:
    - address
    - location_name
    type: object
  paymentmethod.CreateTransferDetail:
    properties:
      account_holder:
        type: string
      additional_notes:
        type: string
      alias:
        type: string
      bank_name:
        type: string
      cbu:
        type: string
      swift_code:
        type: string
    required:
    - account_holder
    - bank_name
    - cbu
    type: object
  paymentmethod.PaymentMethod:
    properties:
      code:
        type: string
      id:
        type: integer
      is_active:
        type: boolean
      name:
        type: string
    type: object
  paymentmethod.TransferDetail:
    properties:
      account_holder:
        type: string
      additional_notes:
        type: string
      alias:
        type: string
      bank_name:
        type: string
      campaign_payment_method_id:
        type: integer
      cbu:
        type: string
      created_at:
        type: string
      id:
        type: integer
      swift_code:
        type: string
      updated_at:
        type: string
    type: object
  rbac.CheckPermissionRequest:
    properties:
      permission:
        type: string
    required:
    - permission
    type: object
  rbac.LocalAuthContext:
    properties:
      permissions:
        items:
          type: string
        type: array
      role_id:
        type: string
      role_name:
        type: string
      user_id:
        type: string
    type: object
  rbac.Permission:
    properties:
      action:
        type: string
      created_at:
        type: string
      description:
        type: string
      id:
        type: string
      name:
        type: string
      resource:
        type: string
    type: object
  rbac.Role:
    properties:
      created_at:
        type: string
      description:
        type: string
      id:
        type: string
      is_active:
        type: boolean
      name:
        type: string
      updated_at:
        type: string
    type: object
  receipts.Receipt:
    properties:
      campaign_id:
        type: string
      created_at:
        type: string
      date:
        type: string
      description:
        type: string
      document_url:
        type: string
      id:
        type: string
      name:
        type: string
      note:
        type: string
      provider:
        type: string
      quantity:
        type: integer
      total:
        type: number
      updated_at:
        type: string
    type: object
  receipts.ReceiptCreateRequest:
    properties:
      date:
        type: string
      description:
        type: string
      name:
        type: string
      note:
        type: string
      provider:
        type: string
      quantity:
        minimum: 1
        type: integer
      total:
        type: number
    required:
    - date
    - name
    - provider
    - total
    type: object
  receipts.ReceiptUpdateRequest:
    properties:
      date:
        type: string
      description:
        type: string
      name:
        type: string
      note:
        type: string
      provider:
        type: string
      quantity:
        minimum: 1
        type: integer
      total:
        type: number
    type: object
  s3client.UploadResponse:
    properties:
      file_name:
        type: string
      key:
        type: string
      size:
        type: integer
      url:
        type: string
    type: object
  user.AuthToken:
    properties:
      access_token:
        type: string
      expires_in:
        description: in seconds
        type: integer
      token_type:
        type: string
    type: object
  user.GetUserResponseDTO:
    properties:
      user:
        $ref: '#/definitions/user.User'
    type: object
  user.LoginDTO:
    properties:
      email:
        example: user@example.com
        type: string
      password:
        example: strongpassword123
        type: string
    type: object
  user.LoginResponseDTO:
    properties:
      token:
        $ref: '#/definitions/user.AuthToken'
    type: object
  user.MeResponseDTO:
    properties:
      created_at:
        example: "2024-01-01T00:00:00Z"
        type: string
      email:
        example: user@email.com
        type: string
      first_name:
        example: Juan
        type: string
      id:
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
      is_active:
        example: true
        type: boolean
      last_name:
        example: PÃ©rez
        type: string
      role:
        $ref: '#/definitions/user.RoleInfo'
      updated_at:
        example: "2024-01-01T00:00:00Z"
        type: string
    type: object
  user.RegisterDTO:
    properties:
      email:
        example: user@example.com
        type: string
      first_name:
        example: John
        type: string
      last_name:
        example: Doe
        type: string
      password:
        example: strongpassword123
        type: string
    type: object
  user.RegisterResponseDTO:
    properties:
      id:
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
    type: object
  user.RequestPasswordResetDTO:
    properties:
      email:
        example: user@example.com
        type: string
    type: object
  user.ResetPasswordDTO:
    properties:
      new_password:
        example: newpassword123
        type: string
      token:
        example: reset-token-123
        type: string
    type: object
  user.RoleInfo:
    properties:
      id:
        example: 550e8400-e29b-41d4-a716-446655440001
        type: string
      name:
        example: admin
        type: string
    type: object
  user.UpdatePasswordDTO:
    properties:
      current_password:
        example: oldpassword123
        type: string
      new_password:
        example: newpassword123
        type: string
    type: object
  user.UpdateUserDTO:
    properties:
      first_name:
        example: John
        type: string
      last_name:
        example: Doe
        type: string
    type: object
  user.User:
    properties:
      created_at:
        type: string
      email:
        type: string
      first_name:
        type: string
      id:
        type: string
      is_active:
        type: boolean
      is_verified:
        type: boolean
      last_login:
        type: string
      last_name:
        type: string
      role_id:
        type: string
      updated_at:
        type: string
    type: object
host: localhost:9999
info:
  contact:
    email: support@donatutti.com
    name: API Support
  description: API for managing donations and campaigns in the Dona Tutti platform
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
  title: Dona Tutti API
  version: "1.0"
paths:
  /api/campaigns/{id}/audit:
    get:
      consumes:
      - application/json
      description: Retrieves the public audit report visible to donors
      parameters:
      - description: Campaign ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Public audit report
          schema:
            $ref: '#/definitions/closure.PublicAuditReport'
        "400":
          description: Bad request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Report not found
          schema:
            additionalProperties: true
            type: object
      summary: Get public audit report for donors
      tags:
      - campaign-closure
  /api/campaigns/{id}/audit/download:
    get:
      consumes:
      - application/json
      description: Redirects to the PDF URL for download
      parameters:
      - description: Campaign ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "302":
          description: Redirect to PDF URL
        "400":
          description: Bad request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Report not found
          schema:
            additionalProperties: true
            type: object
      summary: Download audit report PDF
      tags:
      - campaign-closure
  /api/campaigns/{id}/close:
    post:
      consumes:
      - application/json
      description: Closes a campaign, generates transparency score and audit report
        PDF
      parameters:
      - description: Campaign ID
        in: path
        name: id
        required: true
        type: string
      - description: Closure request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/closure.CloseCampaignRequestDTO'
      produces:
      - application/json
      responses:
        "200":
          description: Closure report
          schema:
            $ref: '#/definitions/closure.CampaignClosureReport'
        "400":
          description: Bad request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Campaign not found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      summary: Close a campaign and generate audit report
      tags:
      - campaign-closure
  /api/campaigns/{id}/closure-report:
    get:
      consumes:
      - application/json
      description: Retrieves the full closure report with all metrics
      parameters:
      - description: Campaign ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Closure report
          schema:
            $ref: '#/definitions/closure.CampaignClosureReport'
        "400":
          description: Bad request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Report not found
          schema:
            additionalProperties: true
            type: object
      summary: Get closure report for a campaign (admin)
      tags:
      - campaign-closure
  /api/campaigns/{id}/contract:
    get:
      consumes:
      - application/json
      description: Retrieves the contract information for a campaign
      parameters:
      - description: Campaign ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Contract information
          schema:
            $ref: '#/definitions/contract.CampaignContract'
        "400":
          description: Bad request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Contract not found
          schema:
            additionalProperties: true
            type: object
      summary: Get contract for a campaign
      tags:
      - contracts
  /api/campaigns/{id}/contract/accept:
    post:
      consumes:
      - application/json
      description: Records the acceptance of a contract with digital signature metadata
      parameters:
      - description: Campaign ID
        in: path
        name: id
        required: true
        type: string
      - description: Contract acceptance request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/contract.AcceptContractRequestDTO'
      produces:
      - application/json
      responses:
        "200":
          description: Contract accepted successfully
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      summary: Accept a contract
      tags:
      - contracts
  /api/campaigns/{id}/contract/generate:
    post:
      consumes:
      - application/json
      description: Generates a legal contract PDF using campaign data from database
      parameters:
      - description: Campaign ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Contract generated successfully
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Campaign not found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      summary: Generate contract PDF for a campaign
      tags:
      - contracts
  /api/campaigns/{id}/contract/proof:
    get:
      consumes:
      - application/json
      description: Retrieves the contract proof with full details for admin review
      parameters:
      - description: Campaign ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Contract proof
          schema:
            $ref: '#/definitions/contract.ContractProof'
        "400":
          description: Bad request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Contract not found
          schema:
            additionalProperties: true
            type: object
      summary: Get contract proof for admin
      tags:
      - contracts
  /auth/check-permission:
    get:
      consumes:
      - application/json
      description: Check if the current user has a specific permission
      parameters:
      - description: Permission check request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/rbac.CheckPermissionRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: boolean
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.APIError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.APIError'
      security:
      - BearerAuth: []
      summary: Check user permission
      tags:
      - auth
  /auth/login:
    post:
      consumes:
      - application/json
      description: Login with email and password
      parameters:
      - description: Login credentials
        in: body
        name: credentials
        required: true
        schema:
          $ref: '#/definitions/user.LoginDTO'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/user.LoginResponseDTO'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.APIError'
      summary: Login user
      tags:
      - auth
  /auth/password-reset/request:
    post:
      consumes:
      - application/json
      description: Request a password reset token
      parameters:
      - description: Email for password reset
        in: body
        name: email
        required: true
        schema:
          $ref: '#/definitions/user.RequestPasswordResetDTO'
      produces:
      - application/json
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.APIError'
      summary: Request password reset
      tags:
      - auth
  /auth/password-reset/reset:
    post:
      consumes:
      - application/json
      description: Reset password using token
      parameters:
      - description: Password reset details
        in: body
        name: reset
        required: true
        schema:
          $ref: '#/definitions/user.ResetPasswordDTO'
      produces:
      - application/json
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.APIError'
      summary: Reset password
      tags:
      - auth
  /auth/register:
    post:
      consumes:
      - application/json
      description: Register a new user with the provided details
      parameters:
      - description: User registration details
        in: body
        name: user
        required: true
        schema:
          $ref: '#/definitions/user.RegisterDTO'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/user.RegisterResponseDTO'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.APIError'
      summary: Register a new user
      tags:
      - auth
  /auth/user-context:
    get:
      consumes:
      - application/json
      description: Get the current user's authentication context including role and
        permissions
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/rbac.LocalAuthContext'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.APIError'
      security:
      - BearerAuth: []
      summary: Get user context
      tags:
      - auth
  /campaigns:
    get:
      consumes:
      - application/json
      description: Get a list of all campaigns
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/campaign.Campaign'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.APIError'
      summary: List all campaigns
      tags:
      - campaigns
    post:
      consumes:
      - application/json
      description: Create a new campaign with the provided details
      parameters:
      - description: Campaign details
        in: body
        name: campaign
        required: true
        schema:
          $ref: '#/definitions/campaign.Campaign'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/campaign.Campaign'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.APIError'
      summary: Create a new campaign
      tags:
      - campaigns
  /campaigns/{campaign_id}/payment-methods:
    get:
      consumes:
      - application/json
      description: Get all payment methods configured for a specific campaign
      parameters:
      - description: Campaign ID
        in: path
        name: campaign_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/paymentmethod.CampaignPaymentMethod'
            type: array
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get campaign payment methods
      tags:
      - campaigns
    post:
      consumes:
      - application/json
      description: Add a payment method to a campaign with optional details
      parameters:
      - description: Campaign ID
        in: path
        name: campaign_id
        required: true
        type: string
      - description: Campaign Payment Method Request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/paymentmethod.CreateCampaignPaymentMethodRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties:
              type: integer
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Create campaign payment method
      tags:
      - campaigns
  /campaigns/{campaign_id}/payment-methods/{id}:
    delete:
      consumes:
      - application/json
      description: Remove a payment method from a campaign
      parameters:
      - description: Campaign ID
        in: path
        name: campaign_id
        required: true
        type: string
      - description: Campaign Payment Method ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Delete campaign payment method
      tags:
      - campaigns
    put:
      consumes:
      - application/json
      description: Update a campaign payment method and its details
      parameters:
      - description: Campaign ID
        in: path
        name: campaign_id
        required: true
        type: string
      - description: Campaign Payment Method ID
        in: path
        name: id
        required: true
        type: integer
      - description: Campaign Payment Method Request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/paymentmethod.CreateCampaignPaymentMethodRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Update campaign payment method
      tags:
      - campaigns
  /campaigns/{campaignId}/activities:
    get:
      consumes:
      - application/json
      description: Get all activities for a specific campaign
      parameters:
      - description: Campaign ID
        in: path
        name: campaignId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/activity.Activity'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.APIError'
      summary: Get activities for a campaign
      tags:
      - activities
    post:
      consumes:
      - application/json
      description: Create a new activity for a campaign
      parameters:
      - description: Campaign ID
        in: path
        name: campaignId
        required: true
        type: string
      - description: Activity details
        in: body
        name: activity
        required: true
        schema:
          $ref: '#/definitions/activity.Activity'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/activity.Activity'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.APIError'
      summary: Create a new activity
      tags:
      - activities
  /campaigns/{campaignId}/activities/{id}:
    delete:
      consumes:
      - application/json
      description: Delete an activity by ID
      parameters:
      - description: Campaign ID
        in: path
        name: campaignId
        required: true
        type: string
      - description: Activity ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.APIError'
      summary: Delete an activity
      tags:
      - activities
    get:
      consumes:
      - application/json
      description: Get activity details by ID
      parameters:
      - description: Campaign ID
        in: path
        name: campaignId
        required: true
        type: string
      - description: Activity ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/activity.Activity'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.APIError'
      summary: Get activity by ID
      tags:
      - activities
    put:
      consumes:
      - application/json
      description: Update activity details by ID. Only provided fields will be updated.
      parameters:
      - description: Campaign ID
        in: path
        name: campaignId
        required: true
        type: string
      - description: Activity ID
        in: path
        name: id
        required: true
        type: string
      - description: Activity update details
        in: body
        name: activity
        required: true
        schema:
          $ref: '#/definitions/activity.ActivityUpdateRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/activity.Activity'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.APIError'
      summary: Update activity details (partial update)
      tags:
      - activities
  /campaigns/{campaignId}/donations:
    get:
      consumes:
      - application/json
      description: Get a list of all donations for a specific campaign
      parameters:
      - description: Campaign ID
        in: path
        name: campaignId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/donation.Donation'
            type: array
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get all donations for a campaign
      tags:
      - donations
    post:
      consumes:
      - application/json
      description: Create a new donation for a campaign with donor_id or donor info
      parameters:
      - description: Campaign ID
        in: path
        name: campaignId
        required: true
        type: string
      - description: Donation data
        in: body
        name: donation
        required: true
        schema:
          $ref: '#/definitions/donation.CreateDonationRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/donation.Donation'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Create a new donation
      tags:
      - donations
  /campaigns/{campaignId}/donations/{id}:
    get:
      consumes:
      - application/json
      description: Get donation details by ID
      parameters:
      - description: Campaign ID
        in: path
        name: campaignId
        required: true
        type: string
      - description: Donation ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/donation.Donation'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get a donation by ID
      tags:
      - donations
    put:
      consumes:
      - application/json
      description: Update an existing donation
      parameters:
      - description: Campaign ID
        in: path
        name: campaignId
        required: true
        type: string
      - description: Donation ID
        in: path
        name: id
        required: true
        type: string
      - description: Donation update data
        in: body
        name: donation
        required: true
        schema:
          $ref: '#/definitions/donation.Donation'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/donation.Donation'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Update a donation
      tags:
      - donations
  /campaigns/{campaignId}/donations/{id}/status:
    patch:
      consumes:
      - application/json
      description: Update the status of a donation. When status is changed to 'completed',
        a receipt is automatically generated.
      parameters:
      - description: Campaign ID
        in: path
        name: campaignId
        required: true
        type: string
      - description: Donation ID
        in: path
        name: id
        required: true
        type: string
      - description: Status update data
        in: body
        name: status
        required: true
        schema:
          $ref: '#/definitions/donation.UpdateDonationStatusRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/donation.Donation'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Update donation status
      tags:
      - donations
  /campaigns/{campaignId}/receipts:
    get:
      consumes:
      - application/json
      description: Get a list of all receipts for a specific campaign
      parameters:
      - description: Campaign ID
        in: path
        name: campaignId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/receipts.Receipt'
            type: array
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get all receipts for a campaign
      tags:
      - receipts
    post:
      consumes:
      - application/json
      description: Create a new receipt for a campaign
      parameters:
      - description: Campaign ID
        in: path
        name: campaignId
        required: true
        type: string
      - description: Receipt data
        in: body
        name: receipt
        required: true
        schema:
          $ref: '#/definitions/receipts.ReceiptCreateRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/receipts.Receipt'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Create a new receipt
      tags:
      - receipts
  /campaigns/{campaignId}/receipts/{id}:
    delete:
      consumes:
      - application/json
      description: Delete a receipt by ID
      parameters:
      - description: Campaign ID
        in: path
        name: campaignId
        required: true
        type: string
      - description: Receipt ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Delete a receipt
      tags:
      - receipts
    get:
      consumes:
      - application/json
      description: Get receipt details by ID
      parameters:
      - description: Campaign ID
        in: path
        name: campaignId
        required: true
        type: string
      - description: Receipt ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/receipts.Receipt'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get a receipt by ID
      tags:
      - receipts
    put:
      consumes:
      - application/json
      description: Update an existing receipt
      parameters:
      - description: Campaign ID
        in: path
        name: campaignId
        required: true
        type: string
      - description: Receipt ID
        in: path
        name: id
        required: true
        type: string
      - description: Receipt update data
        in: body
        name: receipt
        required: true
        schema:
          $ref: '#/definitions/receipts.ReceiptUpdateRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/receipts.Receipt'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Update a receipt
      tags:
      - receipts
  /campaigns/{campaignId}/receipts/{id}/upload:
    post:
      consumes:
      - multipart/form-data
      description: Upload a PDF document for a receipt
      parameters:
      - description: Campaign ID
        in: path
        name: campaignId
        required: true
        type: string
      - description: Receipt ID
        in: path
        name: id
        required: true
        type: string
      - description: PDF file
        in: formData
        name: file
        required: true
        type: file
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Upload receipt document
      tags:
      - receipts
  /campaigns/{id}:
    delete:
      consumes:
      - application/json
      description: Delete a campaign by ID
      parameters:
      - description: Campaign ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.APIError'
      summary: Delete a campaign
      tags:
      - campaigns
    get:
      consumes:
      - application/json
      description: Get campaign details by ID
      parameters:
      - description: Campaign ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/campaign.Campaign'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.APIError'
      summary: Get campaign by ID
      tags:
      - campaigns
    put:
      consumes:
      - application/json
      description: Update campaign details by ID
      parameters:
      - description: Campaign ID
        in: path
        name: id
        required: true
        type: string
      - description: Campaign details
        in: body
        name: campaign
        required: true
        schema:
          $ref: '#/definitions/campaign.Campaign'
      produces:
      - application/json
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.APIError'
      summary: Update campaign details
      tags:
      - campaigns
  /campaigns/{id}/upload:
    post:
      consumes:
      - multipart/form-data
      description: Upload an image for a campaign
      parameters:
      - description: Campaign ID
        in: path
        name: id
        required: true
        type: string
      - description: Image file
        in: formData
        name: file
        required: true
        type: file
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/s3client.UploadResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.APIError'
        "503":
          description: Service Unavailable
          schema:
            $ref: '#/definitions/errors.APIError'
      summary: Upload campaign image
      tags:
      - campaigns
  /categories:
    get:
      consumes:
      - application/json
      description: Get a list of all campaign categories
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/campaigncategory.CampaignCategory'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.APIError'
      summary: List all categories
      tags:
      - categories
    post:
      consumes:
      - application/json
      description: Create a new campaign category with the provided details
      parameters:
      - description: Category details
        in: body
        name: category
        required: true
        schema:
          $ref: '#/definitions/campaigncategory.CampaignCategory'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/campaigncategory.CampaignCategory'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.APIError'
      summary: Create a new category
      tags:
      - categories
  /categories/{id}:
    get:
      consumes:
      - application/json
      description: Get category details by ID
      parameters:
      - description: Category ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/campaigncategory.CampaignCategory'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.APIError'
      summary: Get category by ID
      tags:
      - categories
    put:
      consumes:
      - application/json
      description: Update category details by ID
      parameters:
      - description: Category ID
        in: path
        name: id
        required: true
        type: string
      - description: Category details
        in: body
        name: category
        required: true
        schema:
          $ref: '#/definitions/campaigncategory.CampaignCategory'
      produces:
      - application/json
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.APIError'
      summary: Update category details
      tags:
      - categories
  /donors:
    get:
      consumes:
      - application/json
      description: Get a list of all donors
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/donor.Donor'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.APIError'
      summary: List all donors
      tags:
      - donors
    post:
      consumes:
      - application/json
      description: Create a new donor with the provided details
      parameters:
      - description: Donor details
        in: body
        name: donor
        required: true
        schema:
          $ref: '#/definitions/donor.Donor'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/donor.Donor'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.APIError'
      summary: Create a new donor
      tags:
      - donors
  /donors/{id}:
    get:
      consumes:
      - application/json
      description: Get donor details by ID
      parameters:
      - description: Donor ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/donor.Donor'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.APIError'
      summary: Get donor by ID
      tags:
      - donors
    put:
      consumes:
      - application/json
      description: Update donor details by ID
      parameters:
      - description: Donor ID
        in: path
        name: id
        required: true
        type: string
      - description: Donor details
        in: body
        name: donor
        required: true
        schema:
          $ref: '#/definitions/donor.Donor'
      produces:
      - application/json
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.APIError'
      summary: Update donor details
      tags:
      - donors
  /organizers:
    get:
      consumes:
      - application/json
      description: Get a list of all organizers, optionally filtered by user_id
      parameters:
      - description: Filter organizers by user ID
        in: query
        name: user_id
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/organizer.Organizer'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.APIError'
      summary: List all organizers
      tags:
      - organizers
    post:
      consumes:
      - application/json
      description: Create a new organizer with the provided details
      parameters:
      - description: Organizer details
        in: body
        name: organizer
        required: true
        schema:
          $ref: '#/definitions/organizer.Organizer'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/organizer.Organizer'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.APIError'
      summary: Create a new organizer
      tags:
      - organizers
  /organizers/{id}:
    get:
      consumes:
      - application/json
      description: Get organizer details by ID
      parameters:
      - description: Organizer ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/organizer.Organizer'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.APIError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.APIError'
      security:
      - BearerAuth: []
      summary: Get organizer by ID
      tags:
      - organizers
    put:
      consumes:
      - application/json
      description: Update organizer details by ID
      parameters:
      - description: Organizer ID
        in: path
        name: id
        required: true
        type: string
      - description: Organizer details
        in: body
        name: organizer
        required: true
        schema:
          $ref: '#/definitions/organizer.Organizer'
      produces:
      - application/json
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.APIError'
      summary: Update organizer details
      tags:
      - organizers
  /payment-methods:
    get:
      consumes:
      - application/json
      description: Get a list of all available payment methods
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/paymentmethod.PaymentMethod'
            type: array
      summary: Get all payment methods
      tags:
      - payment-methods
  /payment-methods/{id}:
    get:
      consumes:
      - application/json
      description: Get a specific payment method by its ID
      parameters:
      - description: Payment Method ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/paymentmethod.PaymentMethod'
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get payment method by ID
      tags:
      - payment-methods
  /permissions:
    get:
      consumes:
      - application/json
      description: Get a list of all permissions in the system
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/rbac.Permission'
            type: array
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.APIError'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.APIError'
      security:
      - BearerAuth: []
      summary: List all permissions
      tags:
      - permissions
  /roles:
    get:
      consumes:
      - application/json
      description: Get a list of all active roles in the system
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/rbac.Role'
            type: array
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.APIError'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.APIError'
      security:
      - BearerAuth: []
      summary: List all roles
      tags:
      - roles
  /roles/{name}:
    get:
      consumes:
      - application/json
      description: Get role details by role name
      parameters:
      - description: Role name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/rbac.Role'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.APIError'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.APIError'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/errors.APIError'
      security:
      - BearerAuth: []
      summary: Get role by name
      tags:
      - roles
  /users:
    get:
      consumes:
      - application/json
      description: Get a list of all users
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/user.GetUserResponseDTO'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.APIError'
      summary: List all users
      tags:
      - users
    post:
      consumes:
      - application/json
      description: Create a new user with the provided details
      parameters:
      - description: User details
        in: body
        name: user
        required: true
        schema:
          $ref: '#/definitions/user.RegisterDTO'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/user.RegisterResponseDTO'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.APIError'
      summary: Create a new user
      tags:
      - users
  /users/{id}:
    get:
      consumes:
      - application/json
      description: Get user details by ID
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/user.GetUserResponseDTO'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.APIError'
      summary: Get user by ID
      tags:
      - users
    put:
      consumes:
      - application/json
      description: Update user details by ID
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: string
      - description: User details
        in: body
        name: user
        required: true
        schema:
          $ref: '#/definitions/user.UpdateUserDTO'
      produces:
      - application/json
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.APIError'
      summary: Update user details
      tags:
      - users
  /users/{id}/password:
    put:
      consumes:
      - application/json
      description: Update user's password
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: string
      - description: Password update details
        in: body
        name: passwords
        required: true
        schema:
          $ref: '#/definitions/user.UpdatePasswordDTO'
      produces:
      - application/json
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.APIError'
      summary: Update user password
      tags:
      - users
  /users/me:
    get:
      consumes:
      - application/json
      description: Get current authenticated user's details including role information
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/user.MeResponseDTO'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.APIError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errors.APIError'
      security:
      - BearerAuth: []
      summary: Get current user details
      tags:
      - users
schemes:
- http
- https
securityDefinitions:
  BearerAuth:
    description: Type "Bearer" followed by a space and JWT token.
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
